data <- read_excel("/media/persican/Philippe Massicotte/Phil/Dropbox/project doc cdom/data/asmala2014/data.xlsx")
unique(data$DOC)
source('~/.active-rstudio-document', echo=TRUE)
library(readxl)
library(tidyr)
library(dplyr)
data <- read_excel("/media/persican/Philippe Massicotte/Phil/Dropbox/project doc cdom/data/asmala2014/data.xlsx") %>%
gather(wavelength, acdom, -SampleID, -Season, -SeasonYear, -Year, -Depth,
-SamplingPoint, - River, -SalClass, -Salinity, -Temp,
-Secchi, -DOC, -S275.295, -S350.400, -S300.650) %>%
select(SampleID, DOC, Salinity, wavelength, acdom) %>%
arrange(SampleID)
data <- read_excel("/media/persican/Philippe Massicotte/Phil/Dropbox/project doc cdom/data/asmala2014/data.xlsx")
source('~/.active-rstudio-document', echo=TRUE)
View(data)
library(readxl)
library(tidyr)
library(dplyr)
data <- read_excel("/media/persican/Philippe Massicotte/Phil/Dropbox/project doc cdom/data/asmala2014/data.xlsx", na = "NA") %>%
gather(wavelength, acdom, -SampleID, -Season, -SeasonYear, -Year, -Depth,
-SamplingPoint, - River, -SalClass, -Salinity, -Temp,
-Secchi, -DOC, -S275.295, -S350.400, -S300.650) %>%
select(SampleID, DOC, Salinity, wavelength, acdom) %>%
arrange(SampleID)
View(data)
library(readr)
install.packages("readr")
library(readxl)
library(readr)
library(tidyr)
library(dplyr)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(data)
data2 <- filter(data, wavelength == "a350")
View(data2)
library(ggplot2)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(data)
library(readxl)
library(readr)
library(tidyr)
library(dplyr)
data <- read_excel("/media/persican/Philippe Massicotte/Phil/Dropbox/project doc cdom/data/asmala2014/data.xlsx", na = "NA") %>%
gather(wavelength, acdom, -SampleID, -Season, -SeasonYear, -Year, -Depth,
-SamplingPoint, - River, -SalClass, -Salinity, -Temp,
-Secchi, -DOC, -S275.295, -S350.400, -S300.650) %>%
gather(range, S, -SampleID, -Season, -SeasonYear, -Year, -Depth,
-SamplingPoint, - River, -SalClass, -Salinity, -Temp,
-Secchi, -DOC, -wavelength, -acdom) %>%
select(SampleID, DOC, Salinity, wavelength, acdom) %>%
arrange(SampleID)
View(data)
library(readxl)
library(readr)
library(tidyr)
library(dplyr)
data <- read_excel("/media/persican/Philippe Massicotte/Phil/Dropbox/project doc cdom/data/asmala2014/data.xlsx", na = "NA") %>%
gather(wavelength, acdom, -SampleID, -Season, -SeasonYear, -Year, -Depth,
-SamplingPoint, - River, -SalClass, -Salinity, -Temp,
-Secchi, -DOC, -S275.295, -S350.400, -S300.650) %>%
gather(range, S, -SampleID, -Season, -SeasonYear, -Year, -Depth,
-SamplingPoint, - River, -SalClass, -Salinity, -Temp,
-Secchi, -DOC, -wavelength, -acdom) %>%
select(SampleID, DOC, Salinity, wavelength, acdom, range, S) %>%
arrange(SampleID)
View(data)
write_csv(data, "/media/persican/Philippe Massicotte/Phil/Dropbox/project doc cdom/data/asmala2014/test.csv")
source('/media/persican/Philippe Massicotte/Phil/Dropbox/project doc cdom/r_example.R', echo=TRUE)
View(data)
source('/media/persican/Philippe Massicotte/Phil/Dropbox/project doc cdom/r_example.R', echo=TRUE)
View(data)
source('~/.active-rstudio-document', echo=TRUE)
p <- asin[.39795*cos(.2163108 + 2*atan(.9671396*tan[.00860(j-186)]))]
l <- 46
j <- 1:365
p <- asin[.39795*cos(.2163108 + 2*atan(.9671396*tan[.00860(j-186)]))]
p <- asin(.39795*cos(.2163108 + 2*atan(.9671396*tan(.00860(j-186)))))
tan(.00860(j-186)
)
tan(1)
tan(j)
tan(.00860(j-186))
j-186
p <- asin(.39795*cos(.2163108 + 2*atan(.9671396*tan(.00860*(j-186)))))
plot(p)
d <- 24 - (24/pi) * acos((sin(0.8333*pi/180) + sin(L*pi/180)*sin(P)))
d <- 24 - (24/pi) * acos((sin(0.8333*pi/180) + sin(l*pi/180)*sin(P)))
d <- 24 - (24/pi) * acos((sin(0.8333*pi/180) + sin(l*pi/180)*sin(p)))
source('~/.active-rstudio-document', echo=TRUE)
plot(d)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/dl.R', echo=TRUE)
source('~/dl.R', echo=TRUE)
source('~/dl.R', echo=TRUE)
abline(v = 288)
source('~/dl.R', echo=TRUE)
source('~/dl.R', echo=TRUE)
source('~/dl.R', echo=TRUE)
source('~/dl.R', echo=TRUE)
source('~/dl.R', echo=TRUE)
source('~/dl.R', echo=TRUE)
source('~/dl.R', echo=TRUE)
source('~/dl.R', echo=TRUE)
dl(doy = 288, latitude = 45)
source('~/dl.R', echo=TRUE)
library(extrafont)
fonts()
source('~/dl.R', echo=TRUE)
source('~/dl.R', echo=TRUE)
source('~/dl.R', echo=TRUE)
as.POSIXct(1)
library(date)
install.packages(date)
install.packages("")
install.packages("date")
library(date)
month.abb(1)
date.mdy(1)
date.mdy(188)
date(date.mdy(188))
as.date(date.mdy(188))
date.mmddyy(188)
date(date.mmddyy(188))
as.date(date.mmddyy(188))
as.date(date.mmddyy(288))
as.date(date.mmddyy(288))
tt <- as.date(date.mmddyy(288))
doy <- as.date(date.mmddyy(doy))
doy
ggplot(df, aes(x = doy2)) +
geom_line(aes(y = qc, color = "Trois-Rivières")) +
geom_line(aes(y = dk, color = "Roskilde")) +
labs(color = "Ville")
doy2 <- as.date(date.mmddyy(doy))
qc <- dl(doy = doy, latitude = 46)
dk <- dl(doy = doy, latitude = 58)
df <- data.frame(doy = doy, qc = qc, dk = dk)
ggplot(df, aes(x = doy2)) +
geom_line(aes(y = qc, color = "Trois-Rivières")) +
geom_line(aes(y = dk, color = "Roskilde")) +
labs(color = "Ville")
doy2 <- date(date.mmddyy(doy))
ggplot(df, aes(x = doy2)) +
geom_line(aes(y = qc, color = "Trois-Rivières")) +
geom_line(aes(y = dk, color = "Roskilde")) +
labs(color = "Ville")
source('~/dl.R', echo=TRUE)
source('~/dl.R', echo=TRUE)
ggplot(df, aes(x = doy2)) +
geom_line(aes(y = qc, color = "Trois-Rivières")) +
geom_line(aes(y = dk, color = "Roskilde")) +
labs(color = "Ville")
class(Sys.Date())
doy2
doy2 <- as.date(date.mdy(doy))
doy <- 1:365
doy2 <- as.date(date.mdy(doy))
source('~/dl.R', echo=TRUE)
source('~/dl.R', echo=TRUE)
source('~/dl.R', echo=TRUE)
install.packages("readr")
library(R.matlab)
A <- matrix(1:27, ncol=3)
B <- as.matrix(1:10)
C <- array(1:18, dim=c(2,3,3))
writeMat("/home/persican/Desktop/test.mat", A=A, B=B, C=C)
D <- list(A = A)
writeMat("/home/persican/Desktop/test.mat", D = D)
A <- matrix(1:27, ncol=3)
A <- matrix(1:9, ncol=3)
A
B <- matrix(10:18, ncol=3)
library(R.matlab)
A <- matrix(1:9, ncol=3)
B <- matrix(10:18, ncol=3)
A
B
array(A,B)
[A, B]
myarray <- array(0, dim = c(2, 9, 9))
myarray
myarray <- A <- B
myarray <- cbind(A, B)
myarray
library(R.matlab)
A <- matrix(1:9, ncol=3)
B <- matrix(10:18, ncol=3)
A
B
myarray <- cbind(A, B)
myarray
dim(myarray) <- c(2, 9, 9)
dim(myarray) <- c(9, 9, 2)
library(R.matlab)
A <- matrix(1:9, ncol=3)
B <- matrix(10:18, ncol=3)
A
B
myarray <- cbind(A, B)
dim(myarray) <- c(9, 9, 2)
myarray <- cbind(A, B)
library(R.matlab)
A <- matrix(1:9, ncol=3)
B <- matrix(10:18, ncol=3)
A
B
myarray <- cbind(A, B)
dim(myarray) <- c(2, 3, 3)
myarray
library(R.matlab)
A <- matrix(1:9, ncol=3)
B <- matrix(10:18, ncol=3)
A
B
myarray <- cbind(A, B)
dim(myarray) <- c(3, 3, 2)
myarray
myarray <- rbind(A, B)
myarray
dim(myarray) <- c(2, 3, 3)
myarray
library(R.matlab)
A <- matrix(1:9, ncol=3)
B <- matrix(10:18, ncol=3)
A
B
myarray <- rbind(A, B)
dim(myarray) <- c(2, 3, 3)
myarray
library(R.matlab)
A <- matrix(1:9, ncol=3)
B <- matrix(10:18, ncol=3)
A
B
myarray <- cbind(A, B)
dim(myarray) <- c(3, 3, 2)
source('~/.active-rstudio-document', echo=TRUE)
myarray
install.packages("abind")
library(abind)
abind(A, B)
abind(A, B, along = 1)
abind(A, B, along = 3)
myarray
writeMat("/home/persican/Desktop/test.mat", myarray = myarray)
matrix(1:9, ncol=3)
abind(x=matrix(1:16,nrow=4),y=matrix(17:32,nrow=4),along=3)
abind(x=matrix(1:16,nrow=4),y=matrix(17:32,nrow=4),along=1)
abind(x=matrix(1:16,nrow=4),y=matrix(17:32,nrow=4),along=2)
abind(x=matrix(1:16,nrow=4),y=matrix(17:32,nrow=4),along=3)
abind(x=matrix(1:16,nrow=4),y=matrix(17:32,nrow=4),along=3, force.array = T)
abind(x=matrix(1:16,nrow=4),y=matrix(17:32,nrow=4),along=3, use.first.dimnames = T)
nelem
length(A)
myarray <- array(2, 3, 3)
myarray[1, , ] <- A
myarray <- array(0, dim = c(2, 3, 3))
myarray[1, , ] <- A
myarray[2, , ] <- B
myarray
myarray[1, , ]
writeMat("/home/persican/Desktop/test.mat", myarray = myarray)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
getwd
getwd()
library(pracma)
install.packages("pracma")
source('~/.active-rstudio-document', echo=TRUE)
X
source('~/.active-rstudio-document', echo=TRUE)
install.packages("xtable")
library(assertthat)
assert_that(1 > 0)
assert_that(is.numeric("a"))
stopifnot(is.numeric("a"))
assert_that(1 < 0)
install.packages("assertive")
library(assertive)
assertive::is_numeric(1)
assertive::is_numeric("a")
assertive::is_numeric(1 > 0)
assertive::is_greater_than(0)
assertive::is_positive(0)
assertive::is_positive(1)
assertive::is_positive(-1)
is_a_number(2)
is_a_number("a")
assert_all_are_positive(1:20)
assert_all_are_positive(-1:20)
assert_that(1 < 0)
library(assertthat)
assert_that(1 < 0)
library(stringr)
fruit <- c("apple", "banana", "pear", "pineapple")
str_locate(fruit, "$")
str_locate(fruit, "a")
str_locate_all(fruit, "a")
data <- readLines("Downloads/pour_phil/original/Eem/NAC4A_19052010.csv")
source('~/.active-rstudio-document', echo=TRUE)
res <- str_extract_all(data, "^[+-]?((\\d+(\\.\\d*)?)|(\\.\\d+))$")
res <- str_extract_all(data, "[+-]?((\\d+(\\.\\d*)?)|(\\.\\d+))")
source('/media/persican/Philippe Massicotte/Phil/R Scripts/day_light.R', echo=TRUE)
date()
doy <- strftime(today, format = "%j")
doy <- strftime(date(), format = "%j")
doy <- strftime(date())
as.numeric(date())
today <- Sys.time()
yday(today)
today
date()
as.numeric(today
)
install.packages("lubridate")
lubridate::yday(Sys.Date())
source('/media/persican/Philippe Massicotte/Phil/R Scripts/day_light.R', echo=TRUE)
lubridate::yday(Sys.Date())
dl(doy = lubridate::yday(Sys.Date()), latitude = 46)
dl(doy = lubridate::yday(Sys.Date()), latitude = 58)
source('/media/persican/Philippe Massicotte/Phil/R Scripts/day_light.R', echo=TRUE)
lubridate::day(1)
lubridate::month(1)
lubridate::month(308)
as.Date(dayofyear - 1, origin = "2008-01-01")
as.Date(308 - 1, origin = "2008-01-01")
as.Date(308 - 1, origin = "2015-01-01")
lubridate::yday(Sys.Date())
as.Date(309 - 1, origin = "2015-01-01")
source('/media/persican/Philippe Massicotte/Phil/R Scripts/day_light.R', echo=TRUE)
dl
ggplot(df, aes(x = date, y = dk - qc)) +
geom_line() +
xlab("Mois") +
ylab("Difference d'heure entre Québec et Roskilde") +
theme_bw()
source('/media/persican/Philippe Massicotte/Phil/R Scripts/day_light.R', echo=TRUE)
library(eemR)
eems <- eem_read("/home/persican/Desktop/Various EEMs/aqualog/")
eem_export_matlab("/home/persican/Desktop/test.mat", eems)
eems <- eem_remove_scattering(eems, "rayleigh", 1, 10)
plot(eems, 1)
plot(eems, 2)
plot(eems, 3)
source('~/.active-rstudio-document', echo=TRUE)
plot(eems, 1)
plot(eems, 2)
plot(eems, 3)
plot(eems, 4)
source('~/.active-rstudio-document', echo=TRUE)
devtools::install_github("dvanclev/GTrendsR")
library(GTrendsR)
ch <- gconnect('gtrendsr@gmail.com', 'rvrbnvv1')
ch
data <- gtrends(ch, "Greece")
data
head(data$trend)
debug("gtrends")
data <- gtrends(ch, "Greece")
resultsText
data <- gtrends(ch, "Greece")
library(GTrendsR)
usr = 'gtrendsr@gmail.com'
psw = 'rvrbnvv1'
ch = gconnect(usr, psw, verbose = TRUE)
location = 'FR'
query = 'foot'
data = gtrends(ch, "greece")
library(readxl)
lakes <- read_excel("/home/persican/Desktop/Day sampling.xlsx")
source('~/.active-rstudio-document', echo=TRUE)
Lakes %>%
group_by(Lake) %>%
do(sample_n(., 5, replace = TRUE))
source('~/.active-rstudio-document', echo=TRUE)
15*5
source('~/.active-rstudio-document', echo=TRUE)
View(resampled)
source('~/.active-rstudio-document', echo=TRUE)
write_csv(resampled, "/home/persican/Desktop/resampled_lakes.csv")
knit_with_parameters('~/Desktop/peter.Rmd')
group_by(lake, Lake) %>%
summarise(n())
group_by(lakes, Lake) %>%
summarise(n())
tt <- group_by(lakes, Lake) %>%
summarise(n())
tt
tt$`n()`
mean(tt$`n()`)
setwd("/media/persican/Philippe Massicotte/Phil/blog")
source("rmd_to_jekyll.R")
KnitPost(overwriteAll = TRUE)
source("rmd_to_jekyll.R")
source("../../rmd_to_jekyll.R")
KnitPost(overwriteAll = TRUE)
debugSource('/media/persican/Philippe Massicotte/Phil/blog/rmd_to_jekyll.R')
KnitPost(overwriteAll = TRUE)
debugSource('/media/persican/Philippe Massicotte/Phil/blog/rmd_to_jekyll.R')
dir()
setwd("/media/persican/Philippe Massicotte/Phil/blog/PMassicotte.github.io")
KnitPost(overwriteAll = TRUE)
as.character(files.rmd$corresponding.md.file[i])
fig.dir
KnitPost(overwriteAll = TRUE)
debugSource('/media/persican/Philippe Massicotte/Phil/blog/rmd_to_jekyll.R')
KnitPost(overwriteAll = TRUE)
debugSource('/media/persican/Philippe Massicotte/Phil/blog/rmd_to_jekyll.R')
KnitPost(overwriteAll = TRUE)
debugSource('/media/persican/Philippe Massicotte/Phil/blog/rmd_to_jekyll.R')
KnitPost(overwriteAll = TRUE)
debugSource('/media/persican/Philippe Massicotte/Phil/blog/rmd_to_jekyll.R')
KnitPost(overwriteAll = TRUE)
cache.path
debugSource('/media/persican/Philippe Massicotte/Phil/blog/rmd_to_jekyll.R')
# http://brooksandrew.github.io/simpleblog/articles/blogging-with-r-markdown-and-jekyll-using-knitr/
KnitPost <- function(site.path='/media/persican/Philippe Massicotte/Phil/blog/PMassicotte.github.io/', overwriteAll=F, overwriteOne=NULL) {
if(!'package:knitr' %in% search()) library('knitr')
## Blog-specific directories.  This will depend on how you organize your blog.
site.path <- site.path # directory of jekyll blog (including trailing slash)
rmd.path <- paste0(site.path, "_Rmd") # directory where your Rmd-files reside (relative to base)
posts.path <- paste0(site.path, "_posts/articles/") # directory for converted markdown files
cache.path <- paste0(site.path, "_cache") # necessary for plots
render_jekyll(highlight = "pygments")
opts_knit$set(base.url = '/', base.dir = site.path)
opts_chunk$set(fig.width = 8.5,
fig.height = 5.25,
dev = 'png',
cache = FALSE,
warning = FALSE,
message = FALSE,
cache.path = cache.path,
tidy = FALSE,
comment = "#>",
fig.align = "center")
setwd(rmd.path) # setwd to base
# some logic to help us avoid overwriting already existing md files
files.rmd <- data.frame(rmd = list.files(path = rmd.path,
full.names = T,
pattern = "\\.Rmd$",
ignore.case = T,
recursive = F), stringsAsFactors=F)
files.rmd$corresponding.md.file <- paste0(posts.path,
"/",
basename(gsub(pattern = "\\.Rmd$",
replacement = ".md",
x = files.rmd$rmd)))
files.rmd$corresponding.md.exists <-
file.exists(files.rmd$corresponding.md.file)
## determining which posts to overwrite from parameters overwriteOne & overwriteAll
files.rmd$md.overwriteAll <- overwriteAll
if(is.null(overwriteOne)==F)
files.rmd$md.overwriteAll[grep(overwriteOne, files.rmd[,'rmd'],
ignore.case=T)] <- T
files.rmd$md.render <- F
for (i in 1:dim(files.rmd)[1]) {
if (files.rmd$corresponding.md.exists[i] == F) {
files.rmd$md.render[i] <- T
}
if ((files.rmd$corresponding.md.exists[i] == T) &&
(files.rmd$md.overwriteAll[i] == T)) {
files.rmd$md.render[i] <- T
}
# For each Rmd file, render markdown (contingent on the flags set above)
for (i in 1:dim(files.rmd)[1]) {
if (files.rmd$md.render[i] == T) {
# directory to save figures
fig.dir <- paste("assets/Rfig/",
stringr::str_sub(basename(files.rmd$rmd[i]),
start = 1,
end = -5),
"/",
sep = "")
opts_chunk$set(fig.path = fig.dir)
out.file <- knit(as.character(files.rmd$rmd[i]),
output = as.character(files.rmd$corresponding.md.file[i]),
envir = parent.frame(),
quiet = T)
message(paste0("KnitPost(): ", basename(files.rmd$rmd[i])))
}
KnitPost(overwriteAll = TRUE)
debugSource('/media/persican/Philippe Massicotte/Phil/blog/rmd_to_jekyll.R')
KnitPost(overwriteOne = '2015-17-11-gtrendsR.Rmd')
KnitPost(overwriteOne = '2015-11-17-gtrendsR.Rmd')
debugSource('/media/persican/Philippe Massicotte/Phil/blog/rmd_to_jekyll.R')
KnitPost(overwriteOne = '2015-11-17-gtrendsR.Rmd')
debugSource('/media/persican/Philippe Massicotte/Phil/blog/rmd_to_jekyll.R')
KnitPost(overwriteOne = '2015-11-17-gtrendsR.Rmd')
